<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>อายุขัยเฉลี่ยคนไทย (2015-2024)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #f0f4f8;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #0f766e 0%, #0e7490 100%);
        }
        .card-stat {
            transition: transform 0.2s;
        }
        .card-stat:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Main Container -->
    <div class="max-w-5xl mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden">
        
        <!-- Header Section -->
        <header class="gradient-bg p-8 text-white text-center relative overflow-hidden">
            <div class="relative z-10">
                <h1 class="text-3xl md:text-5xl font-bold mb-2">อายุขัยเฉลี่ยคนไทย</h1>
                <p class="text-lg md:text-xl opacity-90">ย้อนหลัง 10 ปี (2015 - 2024)</p>
                <div class="mt-4 inline-block bg-white/20 px-4 py-1 rounded-full text-sm">
                    <i class="fas fa-database mr-2"></i>ข้อมูลจาก World Bank และ NSO
                </div>
            </div>
            <!-- Decorative Elements -->
            <div class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
            <div class="absolute bottom-0 left-0 -ml-16 -mb-16 w-48 h-48 bg-white/10 rounded-full blur-2xl"></div>
        </header>

        <!-- Key Highlights Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6 -mt-8 relative z-20">
            <!-- Stat 1 -->
            <div class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-teal-600 card-stat flex flex-col items-center text-center">
                <div class="text-gray-500 text-sm font-medium mb-1">ปี 2015</div>
                <div class="text-4xl font-bold text-gray-800">74.4 <span class="text-lg text-gray-400">ปี</span></div>
                <div class="text-teal-600 text-sm mt-2 font-semibold">จุดเริ่มต้น</div>
            </div>
            
            <!-- Stat 2 -->
            <div class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-cyan-600 card-stat flex flex-col items-center text-center transform md:scale-110">
                <div class="text-gray-500 text-sm font-medium mb-1">ปี 2024</div>
                <div class="text-5xl font-bold text-cyan-700">78.1 <span class="text-lg text-gray-400">ปี</span></div>
                <div class="bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-xs mt-2 font-bold">
                    <i class="fas fa-arrow-up mr-1"></i>เพิ่มขึ้น 3.7 ปี
                </div>
            </div>

            <!-- Stat 3 (Projection) -->
            <div class="bg-gradient-to-br from-indigo-50 to-white p-6 rounded-2xl shadow-lg border-b-4 border-indigo-600 card-stat flex flex-col items-center text-center">
                <div class="text-indigo-500 text-sm font-medium mb-1">คาดการณ์ 100 ปี</div>
                <div class="text-3xl font-bold text-indigo-800">พ.ศ. 2628</div>
                <div class="text-indigo-600 text-xs mt-2">อีกประมาณ 60 ปีข้างหน้า</div>
            </div>
        </div>

        <!-- Main Chart Section -->
        <div class="px-6 py-4">
            <div class="bg-gray-50 rounded-2xl p-4 border border-gray-100 shadow-inner">
                <h2 class="text-xl font-bold text-gray-700 mb-4 flex items-center">
                    <i class="fas fa-chart-line mr-2 text-cyan-600"></i> แนวโน้มอายุขัย (แยกตามเพศ)
                </h2>
                <div class="relative h-80 w-full">
                    <canvas id="lifeExpectancyChart"></canvas>
                </div>
                <div class="mt-4 text-center text-xs text-gray-500">
                    *กราฟแสดงการลดลงในปี 2023 จากผลกระทบโควิด-19 และฟื้นตัวในปี 2024
                </div>
            </div>
        </div>

        <!-- Insights & Trends -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6">
            <!-- Insight 1: Gender Gap -->
            <div class="bg-pink-50 rounded-xl p-5 border-l-4 border-pink-500">
                <h3 class="font-bold text-pink-800 text-lg mb-2"><i class="fas fa-venus-mars mr-2"></i>ช่องว่างระหว่างเพศ</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                    เพศหญิงมีอายุขัยเฉลี่ย <span class="font-bold text-pink-600">สูงกว่า</span> เพศชายอย่างต่อเนื่องในทุกปี โดยมีช่องว่างเฉลี่ยประมาณ <span class="bg-white px-2 py-0.5 rounded shadow-sm font-bold">6-7 ปี</span> สะท้อนถึงปัจจัยทางชีวภาพและพฤติกรรมสุขภาพ
                </p>
            </div>

            <!-- Insight 2: Covid Impact -->
            <div class="bg-orange-50 rounded-xl p-5 border-l-4 border-orange-500">
                <h3 class="font-bold text-orange-800 text-lg mb-2"><i class="fas fa-virus mr-2"></i>ผลกระทบโควิด-19</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                    แนวโน้มเพิ่มขึ้นอย่างต่อเนื่องก่อนเกิดโรคระบาด แต่มีการ <span class="font-bold text-red-500">ลดลงในปี 2023</span> (เหลือ 76.0 ปี) ก่อนจะฟื้นตัวกลับมาอย่างแข็งแกร่งในปี 2024 (78.1 ปี) จากการปรับปรุงระบบสาธารณสุข
                </p>
            </div>
        </div>

        <!-- Data Table -->
        <div class="p-6 pt-0">
            <h2 class="text-xl font-bold text-gray-700 mb-4">ตารางข้อมูลรายปี</h2>
            <div class="overflow-x-auto rounded-xl border border-gray-200">
                <table class="w-full text-sm text-left text-gray-600">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                        <tr>
                            <th scope="col" class="px-6 py-3">ปี (ค.ศ.)</th>
                            <th scope="col" class="px-6 py-3 text-center">รวม (ปี)</th>
                            <th scope="col" class="px-6 py-3 text-center text-blue-600">ชาย</th>
                            <th scope="col" class="px-6 py-3 text-center text-pink-600">หญิง</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                        <!-- Javascript will populate this -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-800 text-gray-400 text-center py-4 text-xs">
            <p>แหล่งข้อมูล: World Bank, National Statistical Office (NSO)</p>
            <p class="mt-1">Generated by AI Infographic Generator</p>
        </footer>

    </div>

    <script>
        // Data
        const data = [
            { year: 2015, total: 74.4, male: 71.4, female: 77.6 },
            { year: 2016, total: 74.7, male: 71.6, female: 78.0 },
            { year: 2017, total: 75.1, male: 72.0, female: 78.4 },
            { year: 2018, total: 75.5, male: 72.4, female: 78.8 },
            { year: 2019, total: 76.2, male: 73.0, female: 79.3 },
            { year: 2020, total: 76.7, male: 73.5, female: 80.0 },
            { year: 2021, total: 77.2, male: 73.9, female: 80.4 },
            { year: 2022, total: 77.5, male: 74.1, female: 80.8 },
            { year: 2023, total: 76.0, male: 71.9, female: 79.9 },
            { year: 2024, total: 78.1, male: 73.5, female: 80.5 }
        ];

        // Chart Configuration
        const ctx = document.getElementById('lifeExpectancyChart').getContext('2d');
        
        // Gradient for Total Line
        let gradientTotal = ctx.createLinearGradient(0, 0, 0, 400);
        gradientTotal.addColorStop(0, 'rgba(14, 116, 144, 0.5)'); // Cyan
        gradientTotal.addColorStop(1, 'rgba(14, 116, 144, 0.0)');

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: data.map(d => d.year),
                datasets: [
                    {
                        label: 'เฉลี่ยรวม',
                        data: data.map(d => d.total),
                        borderColor: '#0e7490', // Cyan 700
                        backgroundColor: gradientTotal,
                        borderWidth: 3,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#0e7490',
                        pointRadius: 5,
                        pointHoverRadius: 7,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'ชาย',
                        data: data.map(d => d.male),
                        borderColor: '#3b82f6', // Blue 500
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 3,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'หญิง',
                        data: data.map(d => d.female),
                        borderColor: '#ec4899', // Pink 500
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 3,
                        tension: 0.3,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            font: { family: "'Prompt', sans-serif", size: 12 },
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        titleColor: '#1f2937',
                        bodyColor: '#1f2937',
                        borderColor: '#e5e7eb',
                        borderWidth: 1,
                        titleFont: { family: "'Prompt', sans-serif", weight: 'bold' },
                        bodyFont: { family: "'Prompt', sans-serif" },
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y + ' ปี';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 70, // Start y-axis at 70 to make changes more visible
                        grid: {
                            color: '#f3f4f6'
                        },
                        ticks: {
                            font: { family: "'Prompt', sans-serif" }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: { family: "'Prompt', sans-serif" }
                        }
                    }
                }
            }
        });

        // Populate Table
        const tableBody = document.getElementById('dataTableBody');
        data.forEach((row, index) => {
            const tr = document.createElement('tr');
            tr.className = index % 2 === 0 ? 'bg-white border-b hover:bg-gray-50' : 'bg-gray-50 border-b hover:bg-gray-100';
            
            // Highlight 2023 dip
            const totalClass = row.year === 2023 ? 'text-red-600 font-bold' : 'font-semibold text-gray-900';
            const yearBadge = row.year === 2024 ? '<span class="ml-2 bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">ล่าสุด</span>' : '';

            tr.innerHTML = `
                <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${row.year}${yearBadge}</td>
                <td class="px-6 py-4 text-center ${totalClass}">${row.total}</td>
                <td class="px-6 py-4 text-center">${row.male}</td>
                <td class="px-6 py-4 text-center">${row.female}</td>
            `;
            tableBody.appendChild(tr);
        });
    </script>
</body>
</html>